<section class="main" [formGroup]="projectForm" >
  <div class="card-title">
    <h2>Add Project</h2>
  </div>
  
  <mat-dialog-content >
      <p>The title of my project is
        <mat-form-field>
          <input matInput name="title" formControlName="title">
          <mat-error> Title cannot be empty</mat-error>
        </mat-form-field>
        and I have worked on this project from
        <mat-form-field class="date">
          <input matInput [matDatepicker]="startDatePicker" placeholder="Choose a date" formControlName="startDate">
          <mat-datepicker-toggle matSuffix [for]="startDatePicker"></mat-datepicker-toggle>
          <mat-datepicker #startDatePicker></mat-datepicker>
        </mat-form-field>
        to
        <mat-form-field class="date">
          <input matInput [matDatepicker]="endDatePicker" placeholder="Choose a date" formControlName="endDate">
          <mat-datepicker-toggle matSuffix [for]="endDatePicker"></mat-datepicker-toggle>
          <mat-datepicker #endDatePicker></mat-datepicker>
        </mat-form-field>.
          The URL for this project is
          <mat-form-field>
            <input matInput name="url" formControlName="url">
            <mat-error>Enter a valid URL</mat-error>
          </mat-form-field>
          and my role is 
          <mat-form-field>
            <input matInput name="role" formControlName="role">
          </mat-form-field>
          . Here is a short description of the project:
          <mat-form-field style = "width:80%;">
            <textarea  matInput  minlength="30" maxlength="300" matTextareaAutosize matAutosizeMinRows="3" matAutosizeMaxRows="7" name = "description" formControlName="description"></textarea>
            <mat-error>Minimum 30 characters</mat-error> 
          </mat-form-field>
          
        </p>
      
        <div class="card-title">
            <h4> Technologies used</h4>
            <mat-icon color="primary" (click)="addRow()" style="cursor:pointer">add</mat-icon>
          </div>
      <div formGroupName="technologiesUsed">
          
      <div class="row-items" *ngFor="let technology of projectForm.controls.technologiesUsed.controls; let i = index;" [formGroupName]="i">
        <p>I have used 
          <mat-form-field>
            <input matInput placeholder="technology" formControlName="skill" required />
          </mat-form-field>
          technology with 
          <mat-form-field>
            <input matInput placeholder="expertise" formControlName="level" required />
          </mat-form-field>
          level expertise.
        </p>
        <mat-icon color="primary" (click)="deleteRow(i)" style="cursor:pointer">delete</mat-icon>
      </div>
      </div>
    </mat-dialog-content>
    <div class="button-row">
      <button mat-button mr-2 (click)="onClose()">Close</button>
      <button mat-raised-button (click)="onSave()" [disabled]="projectForm.invalid">Save</button>
    </div>
  </section>